{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./src/views/orderConfirm/OrderConfirm.vue?f8a4","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/orderConfirm/ProductList.vue","webpack:///./src/views/orderConfirm/ProductList.vue?6dea","webpack:///./src/effects/cartEffects.js","webpack:///./src/views/orderConfirm/Order.vue?e670","webpack:///./src/views/orderConfirm/ProductList.vue?cedc","webpack:///./src/views/orderConfirm/TopArea.vue?9746","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/orderConfirm/OrderConfirm.vue","webpack:///./src/views/orderConfirm/TopArea.vue","webpack:///./src/views/orderConfirm/TopArea.vue?2735","webpack:///./src/views/orderConfirm/Order.vue","webpack:///./src/views/orderConfirm/Order.vue?24f9","webpack:///./src/views/orderConfirm/OrderConfirm.vue?638d"],"names":["toInteger","requireObjectCoercible","module","exports","count","str","String","this","result","n","Infinity","RangeError","classof","value","TypeError","class","shopName","productList","item","key","_id","src","imgUrl","alt","name","price","toFixed","props","setup","render","__scopeId","useCommonCartEffect","shopId","store","useStore","cartList","state","changeCartItemInfo","product","num","commit","computed","shopInfo","console","log","orderInfo","isAllChecked","i","check","$","thisNumberValue","repeat","fails","nativeToFixed","floor","Math","pow","x","acc","x2","multiply","data","c","index","c2","divide","dataToString","s","t","call","length","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","slice","handleBackClick","router","back","handleSubmitClick","showConfirm","handleConfirmOrder","isConfirm","products","push","id","addressId","isCanceled","errno","route","params","status","components","TopArea","ProductList","Order"],"mappings":"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","file":"js/orderConfirm.45b5ee12.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OrderConfirm.vue?vue&type=style&index=0&id=8750e232&lang=scss&scoped=true\"","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","<template>\n  <div class=\"product\">\n    <div class=\"product__title\">{{ shopName }}</div>\n    <ul class=\"product__list\">\n      <li v-for=\"item in productList\" :key=\"item._id\" class=\"product__item\">\n        <img :src=\"item.imgUrl\" alt=\"\" />\n        <div class=\"product__item__info\">\n          <h4 class=\"product__item__title\">{{ item.name }}</h4>\n          <div class=\"product__item__price\">\n            <div class=\"product__item__single\">\n              <span class=\"product__item__yen\"\n                >&yen;{{ item.price }} * {{ item.count }}\n              </span>\n            </div>\n            <div class=\"product__item__total\">\n              <span class=\"product__item__yen\"\n                >&yen;{{ (item.price * item.count).toFixed(2) }}</span\n              >\n            </div>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ProductList',\n  props: ['shopName', 'productList'],\n  setup () {\n\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/variable.scss\";\n@import \"../../style/mixins.scss\";\n\n.product {\n  margin: .16rem .18rem .65rem .18rem;\n  padding-bottom: .18rem;\n  background: #fff;\n  border-radius: .05rem;\n  // flex: 1;\n  overflow-y: scroll;\n  &__title {\n    padding: .16rem 0 0 .16rem;\n    font-size: .16rem;\n    color: #333;\n  }\n  &__list {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n  &__item {\n    position: relative;\n    display: flex;\n    padding: .16rem .16rem 0 .16rem;\n    img {\n      width: 0.46rem;\n      height: 0.46rem;\n      margin-right: 0.16rem;\n    }\n    &__info {\n      flex: 1;\n      overflow: hidden;\n    }\n    &__title {\n      line-height: 0.2rem;\n      font-size: 0.14rem;\n      color: $content-font-color;\n      margin: 0;\n      @include ellipsis;\n    }\n    &__price {\n      display: flex;\n      margin: .06rem 0 0 0;\n      font-size: .14rem;\n      line-height: .2rem;\n      color: #e93b3b;\n    }\n    &__total {\n      flex: 1;\n      text-align: right;\n      color: #000;\n    }\n    &__yen {\n      font-size: 0.12rem;\n    }\n  }\n}\n\n</style>\n","import { render } from \"./ProductList.vue?vue&type=template&id=2884fbde&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductList.vue?vue&type=style&index=0&id=2884fbde&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2884fbde\"\n\nexport default script","import { computed } from 'vue'\nimport { useStore } from 'vuex'\n\n// 购物车相关\nconst useCommonCartEffect = (shopId) => {\n  const store = useStore()\n  const { cartList } = store.state\n  // 添加购物车\n  const changeCartItemInfo = (shopId, product, num) => {\n    store.commit('changeCartItemInfo', { shopId, product, num })\n  }\n  // 商店商品列表\n  const productList = computed(() => {\n    const shopInfo = cartList[shopId] || {}\n    const productList = shopInfo.productList || {}\n    console.log(productList)\n    return productList\n  })\n  // 商店名称\n  const shopName = computed(() => {\n    const shopInfo = cartList[shopId] || {}\n    const name = shopInfo.shopName\n    return name\n  })\n  // 订单详情\n  const orderInfo = computed(() => {\n    let count = 0\n    let price = 0\n    let isAllChecked = true\n    const shopInfo = cartList[shopId]\n    if (shopInfo) {\n      const productList = shopInfo.productList || {}\n      for (const i in productList) {\n        count += productList[i].count\n        if (productList[i].check) {\n          price += productList[i].count * productList[i].price\n        }\n        if (productList[i].count > 0 && !productList[i].check) {\n          isAllChecked = false\n        }\n      }\n    }\n    return { count, price: price.toFixed(2), isAllChecked }\n  })\n  return { cartList, productList, shopName, orderInfo, changeCartItemInfo }\n}\n\nexport { useCommonCartEffect }\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Order.vue?vue&type=style&index=0&id=2af9dcda&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductList.vue?vue&type=style&index=0&id=2884fbde&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TopArea.vue?vue&type=style&index=0&id=50ba7c21&lang=scss&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","<template>\n  <div class=\"wrapper\">\n    <TopArea />\n    <ProductList :shopName=\"shopName\" :productList=\"productList\" />\n    <Order />\n  </div>\n</template>\n\n<script>\nimport { useRoute } from 'vue-router'\nimport { useCommonCartEffect } from '../../effects/cartEffects'\nimport TopArea from './TopArea.vue'\nimport ProductList from './ProductList.vue'\nimport Order from './Order.vue'\n\nexport default {\n  name: 'OrderConfirm',\n  components: { TopArea, ProductList, Order },\n  setup () {\n    const route = useRoute()\n    const shopId = route.params.id\n    const { productList, shopName, orderInfo } = useCommonCartEffect(shopId)\n    return { productList, shopName, orderInfo }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/variable.scss\";\n\n.wrapper {\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  height: calc(100vh - 0.49rem);\n  background-color: #eee;\n}\n\n</style>\n","<template>\n  <div class=\"top\">\n    <div class=\"top__header\">\n      <div class=\"top__header__back iconfont\" @click=\"handleBackClick\">\n        &#xe64e;\n      </div>\n      确认订单\n    </div>\n    <div class=\"top__receiver\">\n      <div class=\"top__receiver__title\">收货地址</div>\n      <div class=\"top__receiver__address\">河北工程大学</div>\n      <div class=\"top__receiver__info\">\n        <span class=\"top__receiver__info__name\">存布尔</span>\n        <span class=\"top__receiver__info__phone\"\n          ><a href=\"tel:17614871310\">17614871310</a></span\n        >\n      </div>\n      <div class=\"top__receiver__icon iconfont\">&#xe64e;</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router'\nexport default {\n  name: 'TopArea',\n  setup () {\n    const router = useRouter()\n    const handleBackClick = () => {\n      router.back()\n    }\n    return { handleBackClick }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.top {\n  // height: 1.59rem;\n  background-size: 100% 1.59rem;\n  background-image: linear-gradient(\n    0deg,\n    rgba(0, 145, 255, 0) 4%,\n    #0091ff 50%\n  );\n  background-repeat: no-repeat;\n  &__header {\n    position: relative;\n    padding-top: 0.15rem;\n    line-height: 0.24rem;\n    color: #fff;\n    text-align: center;\n    &__back {\n      position: absolute;\n      left: 0.18rem;\n      font-size: 0.18rem;\n    }\n  }\n  &__receiver {\n    position: relative;\n    margin: 0.15rem 0.18rem 0;\n    height: 1.11rem;\n    background: #fff;\n    border-radius: 0.05rem;\n    &__title {\n      line-height: 0.22rem;\n      padding: 0.16rem 0 0.14rem 0.16rem;\n      font-size: 0.16rem;\n      color: #333;\n    }\n    &__address {\n      line-height: 0.2rem;\n      padding: 0 0.3rem 0 0.16rem;\n      font-size: 0.14rem;\n      color: #333;\n    }\n    &__info {\n      padding: 0.06rem 0 0 0.16rem;\n      &__name {\n        margin-right: 0.06rem;\n        line-height: 0.18rem;\n        font-size: 0.12rem;\n        color: #666;\n      }\n    }\n    &__icon {\n      position: absolute;\n      top: 0.44rem;\n      right: 0.16rem;\n      font-size: 0.2rem;\n      color: #666;\n      transform: rotate(180deg);\n    }\n  }\n}\n</style>\n","import { render } from \"./TopArea.vue?vue&type=template&id=50ba7c21&scoped=true\"\nimport script from \"./TopArea.vue?vue&type=script&lang=js\"\nexport * from \"./TopArea.vue?vue&type=script&lang=js\"\n\nimport \"./TopArea.vue?vue&type=style&index=0&id=50ba7c21&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-50ba7c21\"\n\nexport default script","<template>\n  <div class=\"order\">\n    <div class=\"order__price\">实付金额 <b>{{ orderInfo.price }}</b></div>\n    <div class=\"order__btn\" @click=\"() => handleSubmitClick(true)\">提交订单</div>\n  </div>\n  <div class=\"toast\" v-if=\"showConfirm\" @click=\"() => handleSubmitClick(false)\">\n    <div class=\"toast__content\" @click.stop>\n      <h3 class=\"toast__content__title\">确认要离开收银台？</h3>\n      <p class=\"toast__content__desc\">请尽快完成支付，否则将被取消</p>\n      <div class=\"toast__btns\">\n        <button class=\"toast__btns__cancel\" @click=\"() => handleConfirmOrder(false)\">取消订单</button>\n        <button class=\"toast__btns__submit\" @click=\"() => handleConfirmOrder(true)\">确认支付</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from '@vue/reactivity'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { useCommonCartEffect } from '../../effects/cartEffects'\nimport { post } from '../../utils/request'\n\nconst useOrderEffect = (shopId, shopName, productList) => {\n  const router = useRouter()\n  const store = useStore()\n  const handleConfirmOrder = async (isConfirm) => {\n    const products = []\n    for (const item in productList.value) {\n      const product = productList.value[item]\n      if (product.count > 0) {\n        products.push({ id: product._id, num: product.count })\n      }\n    }\n    try {\n      const result = await post('/api/order', {\n        addressId: '1',\n        shopId,\n        shopName: shopName.value,\n        isCanceled: !isConfirm,\n        products\n      })\n      if (result.errno === 0) {\n      // showToast('登录成功')\n        store.commit('cleanCartProducts', { shopId })\n        router.push({ name: 'OrderList' })\n      } else {\n      // showToast('登录失败')\n      }\n    } catch (e) {\n    // showToast('请求失败')\n    }\n  }\n  return { handleConfirmOrder }\n}\n\nexport default {\n  name: 'Order',\n  setup () {\n    const route = useRoute()\n    const shopId = route.params.id\n    const { shopName, productList, orderInfo } = useCommonCartEffect(shopId)\n    const { handleConfirmOrder } = useOrderEffect(shopId, shopName, productList)\n\n    const showConfirm = ref(false)\n    const handleSubmitClick = (status) => {\n      showConfirm.value = status\n    }\n\n    return { showConfirm, orderInfo, handleConfirmOrder, handleSubmitClick }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.order {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  height: .49rem;\n  line-height: .49rem;\n  background: #fff;\n  &__price {\n    flex: 1;\n    text-indent: .24rem;\n    font-size: .14rem;\n    color: #333;\n  }\n  &__btn {\n    width: .98rem;\n    color: #fff;\n    background: #4eb0f9;\n    text-align: center;\n    font-size: .14rem;\n  }\n}\n\n.toast {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 1;\n  background: rgba($color: #000000, $alpha: .5);\n  &__content {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 3rem;\n    height: 1.56rem;\n    background: #fff;\n    border-radius: .05rem;\n    text-align: center;\n    &__title {\n      margin: .24rem 0 0 0;\n      font-size: .18rem;\n      line-height: .26rem;\n      color: #333;\n      text-align: center;\n    }\n    &__desc {\n      margin-top: .08rem;\n      font-size: .14rem;\n      color: #666;\n    }\n  }\n  &__btns {\n    display: flex;\n    justify-content: center;\n    margin: .24rem 0 0 0;\n    &__cancel, &__submit {\n      width: .8rem;\n      line-height: .32rem;\n      border: .01rem solid #4eb0f9;\n      border-radius: .16rem;\n    }\n    &__cancel {\n      margin-right: .2rem;\n      color: #4eb0f9;\n      background: #fff;\n    }\n    &__submit {\n      color: #fff;\n      background: #4eb0f9;\n    }\n  }\n}\n\n</style>\n","import { render } from \"./Order.vue?vue&type=template&id=2af9dcda&scoped=true\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport \"./Order.vue?vue&type=style&index=0&id=2af9dcda&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2af9dcda\"\n\nexport default script","import { render } from \"./OrderConfirm.vue?vue&type=template&id=8750e232&scoped=true\"\nimport script from \"./OrderConfirm.vue?vue&type=script&lang=js\"\nexport * from \"./OrderConfirm.vue?vue&type=script&lang=js\"\n\nimport \"./OrderConfirm.vue?vue&type=style&index=0&id=8750e232&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-8750e232\"\n\nexport default script"],"sourceRoot":""}